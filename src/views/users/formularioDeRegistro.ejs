<!DOCTYPE html>
<html lang="es">

    <head>
        <%- include("../partials/head")%>
        <link rel="stylesheet" href="/css/formularioDeRegistro.css">
        <link rel="stylesheet" href="/css/validacionRegistro.css">
    </head>

<body>
    <!-- Se importa el header desde los archivos parciales -->
    <%- include("../partials/header")%> 

            <main>
                <div class="container">
                    <div class="crearCuentaForm">
                        <div class="login">
                            <p>CREÁ TU CUENTA</p>
                        </div>
                        <div class="errores-back"> <!-- ponerle display none -->
                           <% if (locals.errors) { %>
                            <%    errors.forEach (error => { %>
                                    <p> <%=  error.msg %> </p>
                            <%   }) %>
                           <% } %>
                        </div>
                        <form class="register" id="register" onsubmit='return validateForm()'  action="/users/register" method="POST" enctype="multipart/form-data">
                                <label for="firstName">Nombre</label> 
                                <input type="text" name="firstName" placeholder="Ingresá tu nombre" class="input-box" id="first-name"
                                value="<% locals.oldData ? oldData.firstName : null %>" required>
                                    <div class="errorFirstName"></div>

                                <label for="lastName">Apellido</label> 
                                <input type="text" name="lastName" placeholder="Ingresá tu apellido" class="input-box" id="last-name"
                                    value="<% locals.oldData ? oldData.lastName : null %>" required>
                                    <div class="errorLastName"></div>

                                <label for="email">E-mail</label>
                                <input type="email" name="email" placeholder="Ingresá tu email" class="input-box" id="email" 
                                value="<% locals.oldData ? oldData.email : null %>" required>
                                <div class="errorEmail"></div>

                                <label for="password">Contraseña</label> 
                                <input type="password" name="password" placeholder="Ingresá una contraseña" class="input-box" id="password" required>
                                <div class="errorPassword"></div>
  
                                <label for="username">Nombre de usuario</label> 
                                <input type="text" name="username" placeholder="Ingresá un nombre de usuario"
                                    class="input-box" id="username" value="<% locals.oldData ? oldData.username : null %>" required>
                                    <div class="errorUsername"></div>

                                <label for="profilePic">Foto de perfil</label>
                                <input type="file" name="profilePic" placeholder="Seleccioná una foto de perfil" class="input-box" id = "profile-pic" required>
                                <div class="errorProfilePic"></div>
  
                                <div class="errores-front"></div> <!-- ponerle display none -->
                                <button type="submit" value="Registrar">Registrarme</button>
                        </form>
                        <p class="CuentaOK">¿Ya tenés una cuenta?&nbsp;&nbsp;<a href="/users/login">Ingresá</a></p>
                    </div>
                </div>
            </main>

    <!-- Se importa el footer desde los archivos parciales -->
    <%- include("../partials/footer")%> 

    <!-- JS validación registro -->
    <script src="/js/userRegisterValidation.js"></script>
</body>
</html>